<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, minimum-scale=1, initial-scale=1, user-scalable=yes">

    <title>search-location-project-app test</title>

    <script src="../../../webcomponentsjs/webcomponents-lite.js"></script>
    <script src="../../../web-component-tester/browser.js"></script>

    <link rel="import" href="../../src/search-location-project-app/search-location-project-app.html">
  </head>
  <body>

    <test-fixture id="BasicTestFixture">
      <template>
        <search-location-project-app></search-location-project-app>
      </template>
    </test-fixture>

    <test-fixture id="GeolocationTestFixture">
      <template>
        <geo-location latitude="{{currentLatitude}}" longitude="{{currentLongitude}}"></geo-location>
      </template>
    </test-fixture>

    <script>
      suite('search-location-project-app', function() {
        test('add geo-location element to have the same current location', function() {
          var geolocationElement = fixture('GeolocationTestFixture');
          var applicationElement = fixture('BasicTestFixture');

          assert.equal(geolocationElement.latitude, applicationElement.currentLatitude);
          assert.equal(geolocationElement.longitude, applicationElement.currentLongitude);
        });

        test('load list of locations empty', function() {
          var element = fixture('BasicTestFixture');
          element.results = [];
          var applicationShadowRoot = applicationElement.shadowRoot;
          var applicationHeader = applicationShadowRoot.querySelector(".searchResultsListContent h3");

          console.log(applicationHeader);
          assert.equal("<h3>No location</h3>", applicationHeader);
        });
      });
    </script>


  </body>
</html>
